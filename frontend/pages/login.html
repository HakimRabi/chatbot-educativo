<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot Educativo - Acceso</title>
    <link rel="stylesheet" href="../assets/css/login.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- Cloudflare Turnstile -->
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
</head>
<body>
    <!-- Notification Container -->
    <ul class="notification-container" id="notificationContainer"></ul>

    <div class="card">
        <div class="forms-slider" id="formsSlider">
            
            <!-- VISTA LOGIN -->
            <div class="form-view login-view">
                <h2 class="form-title">Chatbot Educativo</h2>
                <p class="form-subtitle">Creado por Estudiantes de la Universidad Andres Bello</p>

                <form id="login-form">
                    <div class="flex-column">
                        <label>Correo electrónico</label>
                        <div class="inputForm" id="loginEmailContainer">
                            <svg height="20" viewBox="0 0 32 32" width="20" xmlns="http://www.w3.org/2000/svg"><g><path d="M30.853 13.87a15 15 0 0 0 -29.729 4.082 15.1 15.1 0 0 0 12.876 12.918 15.6 15.6 0 0 0 2.016.13 14.85 14.85 0 0 0 7.715-2.145 1 1 0 1 0 -1.031-1.711 13.007 13.007 0 1 1 5.458-6.529 2.149 2.149 0 0 1 -4.158-.759v-10.856a1 1 0 0 0 -2 0v1.726a8 8 0 1 0 .2 10.325 4.135 4.135 0 0 0 7.83.274 15.2 15.2 0 0 0 .823-7.455zm-14.853 8.13a6 6 0 1 1 6-6 6.006 6.006 0 0 1 -6 6z"></path></g></svg>
                            <input type="text" class="input" id="email" placeholder="">
                        </div>
                        <span class="error-message" id="loginEmailError">Solo correos @unab.cl o @uandresbello.edu</span>
                    </div>
                    
                    <div class="flex-column">
                        <label>Contraseña</label>
                        <div class="inputForm" id="loginPassContainer">
                            <svg height="20" viewBox="-64 0 512 512" width="20" xmlns="http://www.w3.org/2000/svg"><path d="m336 512h-288c-26.453125 0-48-21.523438-48-48v-224c0-26.476562 21.546875-48 48-48h288c26.453125 0 48 21.523438 48 48v224c0 26.476562-21.546875 48-48 48zm-288-288c-8.8125 0-16 7.167969-16 16v224c0 8.832031 7.1875 16 16 16h288c8.8125 0 16-7.167969 16-16v-224c0-8.832031-7.1875-16-16-16zm0 0"></path><path d="m304 224c-8.832031 0-16-7.167969-16-16v-80c0-52.929688-43.070312-96-96-96s-96 43.070312-96 96v80c0 8.832031-7.167969 16-16 16s-16-7.167969-16-16v-80c0-70.59375 57.40625-128 128-128s128 57.40625 128 128v80c0 8.832031-7.167969 16-16 16zm0 0"></path></svg>         
                            <input type="password" class="input" id="password" placeholder="Ingresa tu contraseña">
                        </div>
                        <span class="error-message" id="loginPassError">Contraseña requerida</span>
                    </div>

                    <!-- Cloudflare Turnstile Widget para Login -->
                    <div class="cf-turnstile" data-sitekey="0x4AAAAAACC73iQ2ImOf8tr0" data-callback="onTurnstileLoginSuccess" data-theme="light"></div>

                    <button type="submit" class="button-submit" id="btnLogin" disabled>
                        <span class="button-text">Iniciar Sesión</span>
                        <span class="loader"></span>
                    </button>
                </form>
                
                <p class="p">¿No tienes una cuenta? <span class="span" id="toggleToRegister">Regístrate</span></p>
                
                <p class="version-footer">Versión en Producción v2.1 • Chatbot Educativo UNAB</p>
            </div>

            <!-- VISTA REGISTRO -->
            <div class="form-view register-view">
                <button class="back-btn" id="toggleToLogin">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
                    </svg>
                    Volver
                </button>
                <h2 class="form-title" style="margin-bottom: 5px;">Crear Cuenta</h2>

                <form id="register-form">
                    <div class="flex-column">
                        <label>Nombre</label>
                        <div class="inputForm" id="regNameContainer">
                            <svg height="20" viewBox="0 0 32 32" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M16 15.503A5.041 5.041 0 1 0 16 5.42a5.041 5.041 0 0 0 0 10.083zm0 2.215c-6.703 0-11 3.699-11 5.5v3.363h22v-3.363c0-2.178-4.068-5.5-11-5.5z"></path></svg>
                            <input type="text" class="input" id="reg-nombre" placeholder="Ingresa tu nombre">
                        </div>
                        <span class="error-message" id="regNameError">El nombre es requerido</span>
                    </div>

                    <div class="flex-column">
                        <label>Email</label>
                        <div class="inputForm" id="regEmailContainer">
                            <svg height="20" viewBox="0 0 32 32" width="20" xmlns="http://www.w3.org/2000/svg"><g><path d="M30.853 13.87a15 15 0 0 0 -29.729 4.082 15.1 15.1 0 0 0 12.876 12.918 15.6 15.6 0 0 0 2.016.13 14.85 14.85 0 0 0 7.715-2.145 1 1 0 1 0 -1.031-1.711 13.007 13.007 0 1 1 5.458-6.529 2.149 2.149 0 0 1 -4.158-.759v-10.856a1 1 0 0 0 -2 0v1.726a8 8 0 1 0 .2 10.325 4.135 4.135 0 0 0 7.83.274 15.2 15.2 0 0 0 .823-7.455zm-14.853 8.13a6 6 0 1 1 6-6 6.006 6.006 0 0 1 -6 6z"></path></g></svg>
                            <input type="text" class="input" id="reg-email" placeholder="">
                        </div>
                        <span class="error-message" id="regEmailError">Solo correos @unab.cl o @uandresbello.edu</span>
                    </div>

                    <div class="flex-column">
                        <label>Contraseña</label>
                        <div class="inputForm" id="regPassContainer">
                            <svg height="20" viewBox="-64 0 512 512" width="20" xmlns="http://www.w3.org/2000/svg"><path d="m336 512h-288c-26.453125 0-48-21.523438-48-48v-224c0-26.476562 21.546875-48 48-48h288c26.453125 0 48 21.523438 48 48v224c0 26.476562-21.546875 48-48 48zm-288-288c-8.8125 0-16 7.167969-16 16v224c0 8.832031 7.1875 16 16 16h288c8.8125 0 16-7.167969 16-16v-224c0-8.832031-7.1875-16-16-16zm0 0"></path><path d="m304 224c-8.832031 0-16-7.167969-16-16v-80c0-52.929688-43.070312-96-96-96s-96 43.070312-96 96v80c0 8.832031-7.167969 16-16 16s-16-7.167969-16-16v-80c0-70.59375 57.40625-128 128-128s128 57.40625 128 128v80c0 8.832031-7.167969 16-16 16zm0 0"></path></svg>
                            <input type="password" class="input" id="reg-password" placeholder="Mínimo 6 caracteres">
                        </div>
                        <span class="error-message" id="regPassError">Mínimo 6 caracteres</span>
                    </div>

                    <div class="flex-column">
                        <label>Confirmar Contraseña</label>
                        <div class="inputForm" id="regConfirmContainer">
                            <svg height="20" viewBox="-64 0 512 512" width="20" xmlns="http://www.w3.org/2000/svg"><path d="m336 512h-288c-26.453125 0-48-21.523438-48-48v-224c0-26.476562 21.546875-48 48-48h288c26.453125 0 48 21.523438 48 48v224c0 26.476562-21.546875 48-48 48zm-288-288c-8.8125 0-16 7.167969-16 16v224c0 8.832031 7.1875 16 16 16h288c8.8125 0 16-7.167969 16-16v-224c0-8.832031-7.1875-16-16-16zm0 0"></path><path d="m304 224c-8.832031 0-16-7.167969-16-16v-80c0-52.929688-43.070312-96-96-96s-96 43.070312-96 96v80c0 8.832031-7.167969 16-16 16s-16-7.167969-16-16v-80c0-70.59375 57.40625-128 128-128s128 57.40625 128 128v80c0 8.832031-7.167969 16-16 16zm0 0"></path></svg>
                            <input type="password" class="input" id="reg-confirm-password" placeholder="Confirma tu contraseña">
                        </div>
                        <span class="error-message" id="regConfirmError">Las contraseñas no coinciden</span>
                    </div>

                    <!-- Cloudflare Turnstile Widget para Registro -->
                    <div class="cf-turnstile" data-sitekey="0x4AAAAAACC73iQ2ImOf8tr0" data-callback="onTurnstileRegisterSuccess" data-theme="light"></div>

                    <button type="submit" class="button-submit" id="btnRegister" disabled>
                        <span class="button-text">Registrarse</span>
                        <span class="loader"></span>
                    </button>
                </form>

                <p class="version-footer">Versión en Producción v2.1 • Chatbot Educativo UNAB</p>
            </div>

        </div>
    </div>
    
    <script src="../assets/js/login.js"></script>
</body>
</html>